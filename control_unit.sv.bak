module control_unit(
    input  logic [6:0] opcode,
    input  logic [2:0] funct3,
    input  logic [6:0] funct7,
    output logic       branch,
    output logic       jump,
    output logic       alusrc,
    output logic       rw,
    output logic       mw,
    output logic [2:0] immsrc,
    output logic [2:0] alucontrol
);
    logic [1:0] aluop;

    // Instantiate both decoders
    main_decoder main_dec(
        .opcode(opcode),
        .branch(branch),
        .jump(jump),
        .alusrc(alusrc),
        .rw(rw),
        .mw(mw),
        .immsrc(immsrc),
        .aluop(aluop)
    );

    alu_decoder alu_dec(
        .funct3(funct3),
        .funct7(funct7),
        .aluop(aluop),
        .alucontrol(alucontrol)
    );
endmodule
